"$schema" = "https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/main/themes/schema.json"
version = 3
final_space = true
async = true

# [palette]
#   blue = '#8AADF4'
#   lavender = '#B7BDF8'
#   os = '#ACB0BE'
#   pink = '#F5BDE6'
#   text = '#494D64'
#   wight = '#FFFFFF'

[[blocks]]
  type = 'prompt'
  alignment = 'left'
  newline = true

  [[blocks.segments]]
    leading_diamond = ''
    template = ' {{.Icon}} '
    background = '7'
    foreground = '232'
    powerline_symbol = ''
    type = 'os'
    style = 'diamond'

  # [[blocks.segments]]
  #   template = '{{ .UserName }}@{{ .HostName }}'
  #   foreground = 'p:text'
  #   powerline_symbol = ''
  #   background = 'p:blue'
  #   type = 'session'
  #   style = 'diamond'

  [[blocks.segments]]
    template = '  <b>{{ .Path }}</b> '
    powerline_symbol = ''
    background = '4'
    foreground = '0'
    type = 'path'
    style = 'powerline'

    [blocks.segments.properties]
      folder_icon = '...'
      home_icon = '~'
      style = 'mixed'
      mixed_threshold = 30

  [[blocks.segments]]
    # template = ' {{ .UpstreamIcon }}{{ .HEAD }} '
    # background = '2'
    # foreground = '0'
    # powerline_symbol = ''
    # type = 'git'
    # style = 'powerline'

    # [blocks.segments.properties]
    #   fetch_status = true
    #   fetch_upstream_icon = true
    #   source = 'cli'
    #   branch_icon = ' '
    #   cherry_pick_icon = ' '
    #   commit_icon = ' '
    #   fetch_status = false
    #   fetch_upstream_icon = false
    #   merge_icon = ' '
    #   no_commits_icon = ' '
    #   rebase_icon = ' '
    #   revert_icon = ' '
    #   tag_icon = ' '
    type = "git"
    style = "powerline"
    powerline_symbol = ""
    background = "2"
    foreground = "0"
    background_templates = [ "{{ if or (.Working.Changed) (.Staging.Changed) }}3{{ end }}", "{{ if and (gt .Ahead 0) (gt .Behind 0) }}2{{ end }}", "{{ if gt .Ahead 0 }}#B388FF{{ end }}", "{{ if gt .Behind 0 }}#B388FB{{ end }}" ]
    template = " {{ .UpstreamIcon }} {{ .HEAD }}{{if .BranchStatus }} {{ .BranchStatus }}{{ end }}{{ if .Working.Changed }}  {{ .Working.String }}{{ end }}{{ if and (.Working.Changed) (.Staging.Changed) }} |{{ end }}{{ if .Staging.Changed }}  {{ .Staging.String }}{{ end }}{{ if gt .StashCount 0 }}  {{ .StashCount }}{{ end }} "

    [blocks.segments.properties]
      fetch_status = true
      fetch_upstream_icon = true
      source = "cli"

      [blocks.segments.properties.untracked_modes]
      "/Users/user/Projects/oh-my-posh/" = "no"

      [blocks.segments.properties.mapped_branches]
        "feat/*" = "🚀 "
        "bug/*" = "🐛 "
